<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册登录</title>
    <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
</head>
<body background="../static/1-1Q025215017.jpg" style="height: auto;width: auto">
<div>
    <h1 align="center">用户注册登录</h1>
    {% csrf_token %}
    <div align="center"><span>用户名：</span><input id='username' type="text"></div>
    <div align="center"><span> 密码： </span><input id='password' type="password"></div>
    <center><button id="zc">注册</button><button id="login">登录</button></center>
</div>
</body>
<script>
    $(document).ready(function () {
        $('#zc').click(function () {
            username = $('#username').val();
            password = $('#password').val();
            var csrftoken = $('input[name="csrfmiddlewaretoken"]').val();
            alert(username)
            $.ajax({
                url:/register/,
                type:'POST',
                async:true,
                data:{'username':username,'password':password},
                dataType:'json',
                success:function (data) {
                    console.log(data)

                },
                beforeSend:function (xhr,settings) {
                    xhr.setRequestHeader("X-CSRFToken",csrftoken)

                },
                error:function (data) {
{#                    alert('不好意思你失败了');#}
                    console.log(data)
                }
            })
        })
    })
</script>
</html>
